<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Planning Your Change &mdash; Simulation Systems  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/design-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Create a ticket" href="tickets.html" />
    <link rel="prev" title="About the Working Practices" href="working_practices.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Simulation Systems
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Working Practices</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="working_practices.html">About the Working Practices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Planning Your Change</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-considerations">General Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specific-tips-for-scientific-changes">Specific Tips for Scientific changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specific-tips-for-technical-changes">Specific Tips for Technical changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tickets.html">Create a ticket</a></li>
<li class="toctree-l1"><a class="reference internal" href="branches.html">Create a branch</a></li>
<li class="toctree-l1"><a class="reference internal" href="developing_change.html">Developing Your Change</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing Your Change</a></li>
<li class="toctree-l1"><a class="reference internal" href="approvals.html">Approval Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="reviews.html">Reviews</a></li>
<li class="toctree-l1"><a class="reference internal" href="final_steps.html">Final Steps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides for Reviewers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Reviewers/scitechreview.html">Science and Technical Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reviewers/codereview.html">Code and System Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reviewers/howtocommit.html">How To Commit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reviewers/committinglinkedtickets.html">Committing Linked Tickets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reviewers/curaterelease.html">Curating a Release</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Further Details</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="who.html">Who’s Who</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Simulation Systems Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="dos_donts.html">Do’s and Don’ts</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_notes.html">Recent Changes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Simulation Systems</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Planning Your Change</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/WorkingPractices/planning_your_change.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="planning-your-change">
<span id="planning"></span><h1>Planning Your Change<a class="headerlink" href="#planning-your-change" title="Permalink to this headline"></a></h1>
<p>There’s often a tendency to jump straight into a change. This is fine for small and
simple changes where the purpose of the change is well-understood. However, for more complex
changes having a plan for the change before developing it can be very beneficial and a well-thought
plan improves the chances of a successful code change.</p>
<dl class="simple">
<dt>Planning a change</dt><dd><ul class="simple">
<li><p>should not take long</p></li>
<li><p>does not require submission for a review - the final code should speak for itself</p></li>
<li><p>should help you understand the task and what it will involve</p></li>
<li><p>should highlight some potential issues before development work starts</p></li>
</ul>
</dd>
</dl>
<p>This is also a good time to consult with code owners
(and also with configuration owners, if necessary).
Use the appropriate <a class="reference internal" href="support.html#support"><span class="std std-ref">Support</span></a> channels.</p>
<p>The following are some general hints and tips in planning code changes successfully.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For more complex LFRic changes you can submit your plan to the Capability
Development team for a Design Review.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="dos_donts.html#dos-donts"><span class="std std-ref">Do’s and Don’ts</span></a></p>
</div>
<div class="section" id="general-considerations">
<h2>General Considerations<a class="headerlink" href="#general-considerations" title="Permalink to this headline"></a></h2>
<p><strong>How complex is your change likely to be?</strong> (e.g. roughly how many subroutines or lines of code do
you expect to alter or add?) This is an important consideration as the more complex a change is, the
more time will be required in development, the more code owners will need to approve it and so forth.
If a change is overly complex, the developer could consider breaking it up into smaller, more
managable tickets.</p>
<p><strong>How does your proposed change fit in with the structure of the model?</strong> Try and make your code
changes in-scope and no larger than they need to be. If you find yourself having to edit large
areas of code in other, unrelated sections of the model purely to get your change to work, chances
are that you’re doing something wrong. Please do seek advice.</p>
<p><strong>Ensure that your code change meets coding standards</strong> All models have various coding standards
and things to avoid, so it is useful for the developer to be aware of these.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://code.metoffice.gov.uk/doc/um/latest/umdp.html#003">UMDP3 (UM and JULES FORTRAN)</a>,</p></li>
<li><p><a class="reference external" href="https://code.metoffice.gov.uk/trac/lfric/wiki/LFRicTechnical/CodingStandards">LFRic Coding Styles</a></p></li>
<li><p><a class="reference external" href="https://legacy.python.org/dev/peps/pep-0008/">PEP 8 (Python)</a></p></li>
</ul>
<p><strong>Who will SciTech review the change?</strong> This is a useful consideration as not everyone who uses the
repository has the knowledge or experience to review every ticket that is being developed. It can be worth
identifying a SciTech reviewer before starting work to avoid having developed the ticket, only to
find nobody is available to review it.</p>
<p><strong>Does your change fix a bug or are you investigating a bug in the code?</strong> If so, be aware that any
changes to answers will require a KGO update and configuration owners to approve the change, which
can take longer. Code changes which require a change in answers and configuration owner approval
should be planned well in advance of the code review deadline to allow time for the approvals to
take place.</p>
<p><strong>Is the code you need to alter on a single repository or is it spread over multiple repositories?</strong>
If it’s over multiple repositories you need to use linked tickets. See <a class="reference internal" href="multi_repository.html#multirepo"><span class="std std-ref">Working with Multiple Repositories</span></a> for
further details.</p>
<p><strong>Does similar code functionality already exist in the model?</strong> It’s a good idea <strong>not</strong> to re-invent
the wheel or have code duplication! Speaking to code owners of the appropriate sections can help in
this instance.</p>
</div>
<div class="section" id="specific-tips-for-scientific-changes">
<h2>Specific Tips for Scientific changes<a class="headerlink" href="#specific-tips-for-scientific-changes" title="Permalink to this headline"></a></h2>
<p><strong>Does the change add a new option or feature to the code?</strong> If so, you probably need a new namelist
variable to switch the new option off and maintain regression. This will also imply changes to the
metadata are required and an upgrade macro to include the switch into the upgraded configuration.</p>
<p><strong>How are you going to prove that your change works scientifically?</strong> It’s vital to make sure your
code changes work when switched <strong>on</strong> and give the same answer when the code is run over different
processor configurations. Producing a quick plot or plots to show the impact of your code and
including them on your ticket can aid your SciTech reviewer in showing that your code works
properly.</p>
<p><strong>Does the change need any new diagnostics to make sense of the code?</strong> Many changes will be able
to use the existing diagnostics available, but if some novel functionality is being developed it may
require new diagnostics to be added. The developer needs to check that new diagnostics output
correctly and look sensible.</p>
<p><strong>Does your change need new prognostic variables including?</strong> If so, these need to be added and
it is worth checking that these work properly. In the UM in particular, adding prognostic variables
involves editing a lot of routines and is quite time-consuming.</p>
</div>
<div class="section" id="specific-tips-for-technical-changes">
<h2>Specific Tips for Technical changes<a class="headerlink" href="#specific-tips-for-technical-changes" title="Permalink to this headline"></a></h2>
<p><strong>Avoid wholesale technical changes</strong> These can be very cumbersome to review; if it’s possible,
split the change into more manageable chunks.</p>
<p><strong>How does your change affect the performance of the model?</strong> If your change intends to optimise
code, be prepared to provide evidence of how things have improved.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="working_practices.html" class="btn btn-neutral float-left" title="About the Working Practices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tickets.html" class="btn btn-neutral float-right" title="Create a ticket" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Simulation Systems and Deployment Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>