

<!DOCTYPE html>


<html lang="en" data-content_root="" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Some basic guidance on Rose metadata &#8212; Simulation Systems  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'WorkingPractices/metadata_guidance';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Upgrade Macros" href="macros.html" />
    <link rel="prev" title="Input Variables, Rose Metadata and Upgrade Macros" href="inputs.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/MO_MASTER_black_mono_for_light_backg_RBG.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../_static/MO_MASTER_for_dark_backg_RBG.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">Simulation Systems</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="working_practices.html">
                        Working Practices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Reviewers/index.html">
                        Guides for Reviewers
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../FurtherDetails/index.html">
                        Further Details
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MetOffice/simulation-systems/discussions" title="GitHub Discussions" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="far fa-comments fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub Discussions</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="working_practices.html">
                        Working Practices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Reviewers/index.html">
                        Guides for Reviewers
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../FurtherDetails/index.html">
                        Further Details
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MetOffice/simulation-systems/discussions" title="GitHub Discussions" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="far fa-comments fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub Discussions</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Working Practices</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="planning_your_change.html">Planning Your Change</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tickets.html">Create a ticket</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="common_keywords.html">Commonly-Used Keywords</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="branches.html">Create a branch</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="developing_change.html">Developing Your Change</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="documentation.html">Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="jules_docs.html">Building and editing the JULES User Guide</a></li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="inputs.html">Input Variables, Rose Metadata and Upgrade Macros</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Some basic guidance on Rose metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="macros.html">Upgrade Macros</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="kgo.html">Known Good Output (KGO)</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="temp_logicals.html">Temporary Logical Variables</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="diagnostics.html">Diagnostic Systems</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="Diagnostics/um_stashmaster.html">STASH </a></li>
<li class="toctree-l3"><a class="reference internal" href="Diagnostics/lfric_diagnostics.html">LFRic Diagnostics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rose_stem.html">Rose Stem Suite</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="testing.html">Testing Your Change</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/um.html">Testing the UM</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/lfric_apps.html">Testing LFRic Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/lfric_core.html">Testing LFRic Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/jules.html">Testing JULES</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/ukca.html">Testing UKCA</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/multi-repo_testing.html">Multi-Repository Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="multi_repository.html">Working with Multiple Repositories</a></li>
<li class="toctree-l1"><a class="reference internal" href="approvals.html">Approval Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="reviews.html">Reviews</a></li>
<li class="toctree-l1"><a class="reference internal" href="final_steps.html">Final Steps</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">





<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="working_practices.html" class="nav-link">Working Practices</a></li>
    
    
    <li class="breadcrumb-item"><i class="fa-solid fa-ellipsis"></i></li>
    
    
    <li class="breadcrumb-item"><a href="inputs.html" class="nav-link">Input Variables, Rose Metadata and Upgrade Macros</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Some basic...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <span class="target" id="metadata-guidance"></span><section id="some-basic-guidance-on-rose-metadata">
<h1>Some basic guidance on Rose metadata<a class="headerlink" href="#some-basic-guidance-on-rose-metadata" title="Permalink to this heading">#</a></h1>
<p>It is important that the appearance of inputs across the GUI panels conform to the same standards.
This ensures that users of each model become familiar with how the panels work and are present
with a consistent set of information, such as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[namelist:&lt;namelist&gt;=&lt;variable&gt;]
description=&lt;what is the variable for?&gt;
help=&lt;detailed information about the variable&gt;
sort-key=&lt;XY&gt;
url=&lt;http://jules-lsm.github.io/latest/namelists/&lt;namelist&gt;.nml.html#&lt;NAMELIST&gt;::&lt;item&gt;&gt;
etc
</pre></div>
</div>
<p>where JULES namelist items should only contain the <code class="docutils literal notranslate"><span class="pre">url=</span></code> field and
not the <code class="docutils literal notranslate"><span class="pre">help=</span></code> field regardless of the repository they reside
in. Each input is presented in the GUI as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="n">name</span>
<span class="n">short</span> <span class="n">description</span> <span class="n">of</span> <span class="n">the</span> <span class="n">variable</span> <span class="n">name</span>
</pre></div>
</div>
<p>Either the help text is displayed or web help opened when one clicks
the variable name. If both fields exist the Web help is opened
preferentially. If a <code class="docutils literal notranslate"><span class="pre">url=</span></code> is present the <code class="docutils literal notranslate"><span class="pre">help=</span></code> field should be
removed to avoid duplication.</p>
<section id="shared-namelists">
<span id="id1"></span><h2>Shared namelists<a class="headerlink" href="#shared-namelists" title="Permalink to this heading">#</a></h2>
<p>Shared namelist items, or items which exist in more than one
repository, should have identical metadata regardless of the
repository where they reside (e.g. JULES items in the UM
metadata). The only caveats are where a <code class="docutils literal notranslate"><span class="pre">trigger</span></code> or a <code class="docutils literal notranslate"><span class="pre">fail-if</span></code>
reference a namelist item from the parent model (e.g. UM).</p>
<p>Shared JULES metadata is in the process of being migrated to
<a class="reference external" href="https://code.metoffice.gov.uk/trac/jules/browser/main/trunk/rose-meta/jules-shared">rose-meta/jules-shared</a>,
which resides in the JULES repository. The sub-directories are
imported by <strong>rose-meta/um-atmos</strong> and <strong>rose-meta/jules-standalone</strong>
and is manually synced with a copy in LFRic. Please see <a class="reference external" href="https://code.metoffice.gov.uk/trac/jules/wiki/SharingJULESmetadata">Sharing JULES
metadata</a>
for more details including what should be in <a class="reference external" href="https://code.metoffice.gov.uk/trac/jules/wiki/SharingJULESmetadata#Whatsinjules-shared">jules-shared</a>
and in <a class="reference external" href="https://code.metoffice.gov.uk/trac/jules/wiki/SharingJULESmetadata#Whatsinjules-standalonejules-lfricorum-atmos">jules-standalone, jules-lfric or um-atmos</a>. When
developing shared JULES metadata, you will need <a class="reference internal" href="multi_repository.html#multirepo"><span class="std std-ref">linked tickets</span></a>. The metadata migration is currently dictated by LFRic
porting of science, although the ultimate aim is to have a single
source of truth.</p>
<p>Please see the <a class="reference internal" href="#metadata-changes"><span class="std std-ref">rose config-edit example</span></a> for
an illustration of how to pick up <strong>jules-shared</strong> changes from a
JULES working copy.</p>
<p>The following sections provide some general guidance as to how to structure your metadata.</p>
</section>
<section id="number-of-panels">
<h2>Number of panels<a class="headerlink" href="#number-of-panels" title="Permalink to this heading">#</a></h2>
<p>If you have a particularly long namelist, consider dividing up the number of panels to ensure
that the user doesn’t have to deal with a particularly long panel with lots of switches.
However, switches which relate to each other should always be on the same panel.</p>
</section>
<section id="sort-keys-and-triggers">
<h2>Sort Keys and triggers<a class="headerlink" href="#sort-keys-and-triggers" title="Permalink to this heading">#</a></h2>
<p>Please use sort-keys to order the appearance of items in your panels, otherwise they will appear
in alphabetical order. This means that sometimes items that are triggered on and off will appear
far away from the item that triggered them.</p>
<p>Please provide triggers for all variables where possible. It is much better and cleaner to only
see inputs that need to be set rather than everything.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The GUI provides an option to un-hide triggered variables if one wants to see them all.</p>
</div>
<p>Please set <code class="docutils literal notranslate"><span class="pre">compulsory=true</span></code> for items and use triggers for when it
is not required. The settings
of all variables will then be present, in all apps to aid configuration management. When a variable
is triggered off, it will be commented out in the apps e.g. <code class="docutils literal notranslate"><span class="pre">!!variable</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If any variable (new or existing) has received a new compulsory=true setting please use an upgrade macro to
add that variable to apps with a valid value.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While it is possible to trigger a variable based on <code class="docutils literal notranslate"><span class="pre">AND</span></code> logic (e.g. where some condition on <code class="docutils literal notranslate"><span class="pre">variable1</span></code>
and another condition on <code class="docutils literal notranslate"><span class="pre">variable2</span></code> trigger <code class="docutils literal notranslate"><span class="pre">variable3</span></code>), cumbersome triggering of this nature is best
avoided.</p>
<p>It is not possible to trigger a variable based on <code class="docutils literal notranslate"><span class="pre">OR</span></code> logic.</p>
</div>
</section>
<section id="viewing-metadata-changes-as-you-go-along">
<span id="metadata-changes"></span><h2>Viewing metadata changes as you go along<a class="headerlink" href="#viewing-metadata-changes-as-you-go-along" title="Permalink to this heading">#</a></h2>
<p>One can easily review their metadata changes with the rose config editor, opening up an example app file. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">of</span> <span class="n">working</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">branch</span><span class="o">&gt;/</span><span class="n">rose</span><span class="o">-</span><span class="n">stem</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">um_n48_eg</span>
<span class="n">rose</span> <span class="n">config</span><span class="o">-</span><span class="n">edit</span> <span class="o">-</span><span class="n">M</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">of</span> <span class="n">working</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">branch</span><span class="o">/</span><span class="n">rose</span><span class="o">-</span><span class="n">meta</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>If making <strong>jules-shared</strong> changes, when reviewing these changes from a
different parent repository, you will first need to set the
<cite>ROSE_META_PATH</cite> system variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">ROSE_META_PATH</span><span class="o">=&lt;</span><span class="n">path</span> <span class="n">of</span> <span class="n">working</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">JULES</span> <span class="n">branch</span><span class="o">/</span><span class="n">rose</span><span class="o">-</span><span class="n">meta</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>or add the path instead as a colon separated list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rose</span> <span class="n">config</span><span class="o">-</span><span class="n">edit</span> <span class="o">-</span><span class="n">M</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">of</span> <span class="n">working</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">branch</span><span class="o">/</span><span class="n">rose</span><span class="o">-</span><span class="n">meta</span><span class="o">/&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">path</span> <span class="n">of</span> <span class="n">working</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">JULES</span> <span class="n">branch</span><span class="o">/</span><span class="n">rose</span><span class="o">-</span><span class="n">meta</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>then once the app opens click on the LHS appname to display the app
meta panel. Update this to HEAD rather than the version number and
apply.</p>
<p>Please note that if you have used an upgrade macro on the app then the
meta line at the top of the app file will have changed
(e.g. meta=um-atmos/vn11.0_t46). Since no metadata exists at this
version rose edit will produce an error saying that it cannot find it,
instead it will use the metadata in e.g. um-atmos/HEAD. Please click
OK and continue.</p>
<p>Your updates should now appear.</p>
</section>
<section id="ensuring-metadata-changes-are-valid">
<h2>Ensuring metadata changes are valid<a class="headerlink" href="#ensuring-metadata-changes-are-valid" title="Permalink to this heading">#</a></h2>
<p>Developments to the metadata can be checked for errors by running
<a class="reference external" href="https://metomi.github.io/rose/doc/html/api/command-reference.html#rose-metadata-check">rose metadata-check</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rose</span> <span class="n">metadata</span><span class="o">-</span><span class="n">check</span> <span class="o">-</span><span class="n">C</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">rose</span><span class="o">-</span><span class="n">meta</span><span class="o">/&lt;</span><span class="n">config</span><span class="o">&gt;/</span><span class="n">HEAD</span>
</pre></div>
</div>
<p>where the <code class="docutils literal notranslate"><span class="pre">-C</span></code> option can be omitted if inside the directory containing the metadata file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are <strong>jules-shared</strong> changes then these need to be
added to the metadata path even in the JULES repository. As the
metadata checker does not have the <code class="docutils literal notranslate"><span class="pre">-M</span></code> option, this has to be
done using the <cite>ROSE_META_PATH</cite> environnment variable as in the
<a class="reference internal" href="#metadata-changes"><span class="std std-ref">previous example</span></a>.</p>
<p>If the metadata checker returns “not a configuration metadata
directory” then this may indicate that the wrong path has been
set.</p>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="inputs.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Input Variables, Rose Metadata and Upgrade Macros</p>
      </div>
    </a>
    <a class="right-next"
       href="macros.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Upgrade Macros</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#shared-namelists">Shared namelists</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#number-of-panels">Number of panels</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sort-keys-and-triggers">Sort Keys and triggers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#viewing-metadata-changes-as-you-go-along">Viewing metadata changes as you go along</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ensuring-metadata-changes-are-valid">Ensuring metadata changes are valid</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024,  Met Office.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.2.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>